(this["webpackJsonpmovies-hall"]=this["webpackJsonpmovies-hall"]||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),s=c(11),i=c.n(s),o=(c(34),c(4)),r=Object(a.createContext)(),l=(c(35),c(36),c(21)),j=c.n(l),h=c(22),b=c.n(h),d=c(23),u=c.n(d),p=c(19),m=c.n(p);function O(e){var t=Object(a.useContext)(r),c=t.theme,s=t.changeTheme,i=Object(a.useState)(!1),l=Object(o.a)(i,2),h=l[0],d=l[1],p=Object(a.useState)(window.innerWidth<600),O=Object(o.a)(p,2),v=O[0],x=O[1];return window.addEventListener("resize",(function(){window.innerWidth<600?x(!0):x(!1)})),Object(n.jsxs)("div",{className:"header-container "+e.variant+" edge-"+c,style:{height:v?h?"150px":"40px":"auto"},children:[Object(n.jsxs)("div",{className:"header-logo",children:[Object(n.jsx)("h1",{children:"the movie hall"}),Object(n.jsx)(m.a,{className:"phoneMenu",onClick:function(){d(!h)}})]}),Object(n.jsx)("div",{className:"header-search-box",children:Object(n.jsx)("input",{className:"search-box "+c,type:"text",name:"search",autoComplete:"off",value:e.search,onChange:e.onChange})}),Object(n.jsxs)("div",{className:"header-actions",children:[Object(n.jsx)("button",{type:"button",className:"content-type",onClick:e.onClick,"data-type":"movie",children:Object(n.jsx)(j.a,{"data-type":"movie",className:"movie"==e.type?"active":""})}),Object(n.jsx)("button",{type:"button",className:"content-type",onClick:e.onClick,"data-type":"tv",children:Object(n.jsx)(b.a,{"data-type":"tv",className:"tv"==e.type?"active":""})}),Object(n.jsx)("button",{type:"button",className:"theme",onClick:s,children:Object(n.jsx)(u.a,{})})]})]})}var v=c(18);c(42),c(43);function x(e){var t=Object(a.useContext)(r),c=t.theme;t.changeTheme;return Object(n.jsx)("div",{className:"poster",onClick:e.onClick,children:Object(n.jsxs)("div",{className:"poster-container poster-"+c,id:e.id,"data-type":e.type,children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("img",{src:e.poster,alt:"Poster"}),Object(n.jsxs)("h3",{title:e.title,children:[" ",e.title&&e.title.substring(0,50)," "]}),Object(n.jsxs)("p",{className:"poster-overview",children:[" ",e.plot&&e.plot.substring(0,100)+"..."," "]}),Object(n.jsxs)("p",{children:[" ",e.rating," "]})]})})}var g=c(60);function f(e){var t,c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],r=s[1];t=""==e.search.trim()?"https://api.themoviedb.org/3/".concat(e.type,"/popular?api_key=").concat("31642b090ec00df20ba0fb96c43db571","&page=").concat(e.page):"https://api.themoviedb.org/3/search/".concat(e.type,"?api_key=").concat("31642b090ec00df20ba0fb96c43db571","&page=").concat(e.page,"&query=").concat(e.search,"&include_adult=true"),Object(a.useEffect)((function(){fetch(t).then((function(e){return e.json()})).then((function(t){1!=e.page?r([].concat(Object(v.a)(i),Object(v.a)(t.results))):r(t.results)})).catch((function(e){throw e}))}),[t]);var l=void 0!=i&&i.length?i.map((function(t,c){return Object(n.jsx)(x,{id:t.id,type:e.type,poster:null!=t.poster_path?"http://image.tmdb.org/t/p/w185/".concat(t.poster_path):"/img/not-found.jpg",title:"movie"==e.type?t.title:t.name,plot:t.overview,rating:t.vote_average,onClick:e.onClick},t.id*c)})):Object(n.jsx)(g.a,{});return Object(n.jsx)("div",{className:"showcase",children:l})}c(44);var y=c(25),w=c.n(y),C=c(26),N=c.n(C),k=c(24),S=c.n(k);function _(e){var t=Object(a.useState)({}),c=Object(o.a)(t,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){var t="https://api.themoviedb.org/3/".concat(e.chosen.type,"/").concat(e.chosen.id,"?api_key=31642b090ec00df20ba0fb96c43db571");fetch(t).then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){throw e}))}),[]),Object(n.jsxs)("div",{className:"movieDetails",children:[Object(n.jsxs)("div",{className:"infoPoster",children:[Object(n.jsx)(S.a,{onClick:e.onClick}),Object(n.jsx)("img",{src:"http://image.tmdb.org/t/p/w185/".concat(s.poster_path),alt:"poster"})]}),Object(n.jsxs)("div",{className:"infoDetails",children:[Object(n.jsxs)("h3",{children:[" ",s.title||s.name," "]}),Object(n.jsxs)("span",{children:[Object(n.jsx)(w.a,{}),"movie"==e.chosen.type?"".concat(Math.floor(s.runtime/60),"h ").concat(s.runtime%60,"min"):"N/A"]}),Object(n.jsxs)("span",{children:[Object(n.jsx)(N.a,{})," ",s.vote_average," "]})]}),Object(n.jsx)("div",{className:"infoPlot",children:Object(n.jsx)("p",{children:s.overview})})]})}var E=c(61);function I(){localStorage.getItem("theme")||localStorage.setItem("theme","light");var e=Object(a.useState)(localStorage.getItem("theme")),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(!1),l=Object(o.a)(i,2),j=l[0],h=l[1],b=Object(a.useState)(!1),d=Object(o.a)(b,2),u=d[0],p=d[1],m=Object(a.useState)(null),v=Object(o.a)(m,2),x=v[0],g=v[1],y=Object(a.useState)(""),w=Object(o.a)(y,2),C=w[0],N=w[1],k=Object(a.useState)("movie"),S=Object(o.a)(k,2),I=S[0],T=S[1],L=Object(a.useState)(1),P=Object(o.a)(L,2),D=P[0],F=P[1],q=function(e){p(!u),e.target.classList.contains("poster-container")?(p(!0),g({id:e.target.id,type:e.target.dataset.type})):p(!1)};window.addEventListener("scroll",(function(){window.pageYOffset>130?h(!0):h(!1)}));return document.addEventListener("scroll",(function(){var e=document.querySelector(".showcase");null!=e&&window.scrollY+window.innerHeight>=e.clientHeight&&F(D+1)})),Object(n.jsx)(r.Provider,{value:{theme:c,changeTheme:function(){"dark"===c?(s("light"),localStorage.setItem("theme","light")):(s("dark"),localStorage.setItem("theme","dark"))}},children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"container container-"+c,children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)(O,{variant:j||u?"sticky":"",onChange:function(e){N(e.target.value),p(!1),F(1)},search:C,type:I,onClick:function(e){F(1),p(!1),window.scrollTo(0,0),"movie"==e.target.dataset.type?T("movie"):T("tv")}})}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)(E.a,{in:0==u,unmountOnExit:!0,timeout:500,classNames:"SC",children:Object(n.jsx)(f,{onClick:q,search:C,type:I,page:D})}),Object(n.jsx)(E.a,{in:1==u,unmountOnExit:!0,timeout:500,classNames:"DT",children:Object(n.jsx)(_,{onClick:q,chosen:x})})]})]})})})}var T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,62)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(n.jsx)(I,{}),document.getElementById("root")),T()}},[[45,1,2]]]);
//# sourceMappingURL=main.5902da72.chunk.js.map